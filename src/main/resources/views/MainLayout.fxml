<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Polygon?>
<?import javafx.scene.text.Font?>
<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.hisabx.controller.MainController" fx:id="mainLayout"
           style="-fx-background-color: #eef2f7;">
    <top>
        <VBox>
            <MenuBar>
                <Menu text="ملف">
                    <MenuItem text="عميل جديد" onAction="#handleNewCustomer"/>
                    <MenuItem text="منتج جديد" onAction="#handleNewProduct"/>
                    <MenuItem text="بيع جديد" onAction="#handleNewSale"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="خروج" onAction="#handleExit"/>
                </Menu>
                <Menu text="العملاء">
                    <MenuItem text="عرض كل العملاء" onAction="#handleViewCustomers"/>
                    <MenuItem text="بحث عن عميل" onAction="#handleSearchCustomer"/>
                </Menu>
                <Menu text="المخزون">
                    <MenuItem text="عرض المخزون" onAction="#handleViewInventory"/>
                    <MenuItem text="المنتجات منخفضة المخزون" onAction="#handleLowStock"/>
                    <MenuItem text="إضافة مخزون" onAction="#handleAddStock"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="إدارة الفئات" onAction="#handleManageCategories"/>
                </Menu>
                <Menu text="المبيعات">
                    <MenuItem text="عرض كل المبيعات" onAction="#handleViewSales"/>
                    <MenuItem text="تقرير المبيعات" onAction="#handleSalesReport"/>
                    <MenuItem text="المدفوعات المعلقة" onAction="#handlePendingPayments"/>
                </Menu>
                <Menu text="الإيصالات">
                    <MenuItem text="إنشاء إيصال" onAction="#handleCreateReceipt"/>
                    <MenuItem text="عرض الإيصالات" onAction="#handleViewReceipts"/>
                </Menu>
                <Menu text="إعدادات">
                    <MenuItem text="إعدادات النظام" onAction="#handleSettings"/>
                    <MenuItem text="مزامنة مع فايربيس" onAction="#handleFirebaseSync"/>
                </Menu>
                <Menu text="مساعدة">
                    <MenuItem text="دليل الاستخدام" onAction="#handleHelp"/>
                    <MenuItem text="عن البرنامج" onAction="#handleAbout"/>
                </Menu>
            </MenuBar>
        </VBox>
    </top>
    
    <center>
        <StackPane style="-fx-padding: 36 32 44 32; -fx-background-color: linear-gradient(to bottom right, #f9fbff, #eef2f7);">
            <Pane StackPane.alignment="CENTER">
                <Circle radius="180" fill="#d9e8ff" opacity="0.28" layoutX="220" layoutY="210"/>
                <Circle radius="130" fill="#ffe6d6" opacity="0.32" layoutX="520" layoutY="120"/>
                <Circle radius="90" fill="#c3f4e7" opacity="0.26" layoutX="420" layoutY="330"/>
                <Polygon fill="#dfe8ff" opacity="0.5" points="430, 40, 540, 170, 320, 170"/>
                <Polygon fill="#fff2de" opacity="0.55" points="140, 280, 240, 360, 60, 360"/>
            </Pane>

            <VBox alignment="CENTER" spacing="24">
                <VBox alignment="CENTER" spacing="8">
                    <Label text="HisabX" style="-fx-font-size: 46px; -fx-font-weight: bold; -fx-text-fill: #1f3c56;">
                        <font>
                            <Font name="Segoe UI Semibold" size="46"/>
                        </font>
                    </Label>
                    <Label text="نظام إدارة المخازن والمبيعات" style="-fx-font-size: 20px; -fx-text-fill: #5d6d7e;">
                        <font>
                            <Font name="Segoe UI" size="20"/>
                        </font>
                    </Label>
                </VBox>

                <HBox alignment="CENTER" spacing="14">
                    <Button text="بدء عملية بيع" mnemonicParsing="false" onAction="#handleNewSale"
                            style="-fx-background-color: linear-gradient(to right, #2a8cff, #246bff); -fx-text-fill: white; -fx-font-size: 15px; -fx-font-weight: bold; -fx-padding: 12 20; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 12,0,0,4);"/>
                    <Button text="إضافة عميل" mnemonicParsing="false" onAction="#handleNewCustomer"
                            style="-fx-background-color: #ffffff; -fx-text-fill: #1f3c56; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 11 18; -fx-background-radius: 12; -fx-border-color: #d5e2f4; -fx-border-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,3);"/>
                    <Button text="إدارة المخزون" mnemonicParsing="false" onAction="#handleViewInventory"
                            style="-fx-background-color: #ffffff; -fx-text-fill: #1f3c56; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 11 18; -fx-background-radius: 12; -fx-border-color: #d5e2f4; -fx-border-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10,0,0,3);"/>
                </HBox>

                <HBox alignment="CENTER" spacing="16">
                    <VBox alignment="TOP_RIGHT" spacing="8" prefWidth="220"
                          style="-fx-background-color: white; -fx-padding: 16; -fx-background-radius: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 14,0,0,6);">
                        <Label text="حركة اليوم" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #1f3c56;"/>
                        <Label text="مبيعات + إيصالات" style="-fx-font-size: 12px; -fx-text-fill: #5d6d7e;"/>
                        <Label text="جاهز لبدء العمليات" style="-fx-font-size: 12px; -fx-text-fill: #2a8cff; -fx-background-color: #e8f1ff; -fx-padding: 6 10; -fx-background-radius: 8;"/>
                    </VBox>
                    <VBox alignment="TOP_RIGHT" spacing="8" prefWidth="220"
                          style="-fx-background-color: white; -fx-padding: 16; -fx-background-radius: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 14,0,0,6);">
                        <Label text="تنبيهات المخزون" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #1f3c56;"/>
                        <Label text="راقب المنتجات منخفضة المخزون" style="-fx-font-size: 12px; -fx-text-fill: #5d6d7e;"/>
                        <Label text="لا توجد تنبيهات حالياً" style="-fx-font-size: 12px; -fx-text-fill: #35b585; -fx-background-color: #e6fff4; -fx-padding: 6 10; -fx-background-radius: 8;"/>
                    </VBox>
                    <VBox alignment="TOP_RIGHT" spacing="8" prefWidth="220"
                          style="-fx-background-color: white; -fx-padding: 16; -fx-background-radius: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 14,0,0,6);">
                        <Label text="إدارة العملاء" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #1f3c56;"/>
                        <Label text="إضافة، تعديل، بحث" style="-fx-font-size: 12px; -fx-text-fill: #5d6d7e;"/>
                        <Label text="إجمالي العملاء: --" style="-fx-font-size: 12px; -fx-text-fill: #ff8c42; -fx-background-color: #fff2e5; -fx-padding: 6 10; -fx-background-radius: 8;"/>
                    </VBox>
                </HBox>
            </VBox>
        </StackPane>
    </center>
    
    <bottom>
        <VBox>
            <Label text="جاهز" style="-fx-padding: 10px; -fx-background-color: #ecf0f1;"/>
        </VBox>
    </bottom>
</BorderPane>
