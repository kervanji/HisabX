<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.hisabx.controller.CustomerListController"
      spacing="16"
      style="-fx-background-color: linear-gradient(to bottom right, #0f1b2d, #1a2744); -fx-padding: 24;">
    
    <!-- Header -->
    <HBox alignment="CENTER_RIGHT" spacing="16">
        <Label text="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡" 
               style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #e8edf4;"/>
        <HBox HBox.hgrow="ALWAYS"/>
        <Label fx:id="totalCustomersLabel" text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡: 0"
               style="-fx-font-size: 14px; -fx-text-fill: #90a4ae; -fx-background-color: #10233d; -fx-padding: 8 16; -fx-background-radius: 16;"/>
    </HBox>
    
    <!-- Search and Actions Bar -->
    <HBox spacing="12" alignment="CENTER_RIGHT"
          style="-fx-background-color: #10233d; -fx-padding: 16; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 8, 0, 0, 2);">
        <TextField fx:id="searchField" promptText="ðŸ” Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ..."
                   prefWidth="300"
                   style="-fx-padding: 10; -fx-background-radius: 8; -fx-border-color: rgba(255,255,255,0.12); -fx-border-radius: 8;"/>
        <Button text="Ø¨Ø­Ø«" onAction="#handleSearch"
                style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 8;"/>
        <Button text="Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†" onAction="#handleReset"
                style="-fx-background-color: #1a2744; -fx-text-fill: #e8edf4; -fx-border-color: rgba(255,255,255,0.12); -fx-border-radius: 8; -fx-font-size: 13px; -fx-padding: 10 16; -fx-background-radius: 8;"/>
        <HBox HBox.hgrow="ALWAYS"/>
        <Button text="+ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯" onAction="#handleAddCustomer"
                style="-fx-background-color: linear-gradient(to right, #10b981, #059669); -fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 8;"/>
    </HBox>
    
    <!-- Customers Table -->
    <TableView fx:id="customersTable" VBox.vgrow="ALWAYS"
               style="-fx-background-radius: 12;">
        <columns>
            <TableColumn fx:id="idColumn" text="#" prefWidth="50" style="-fx-alignment: CENTER;"/>
            <TableColumn fx:id="customerCodeColumn" text="ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„" prefWidth="120"/>
            <TableColumn fx:id="nameColumn" text="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" prefWidth="150"/>
            <TableColumn fx:id="phoneColumn" text="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" prefWidth="120"/>
            <TableColumn fx:id="addressColumn" text="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" prefWidth="140"/>
            <TableColumn fx:id="projectLocationColumn" text="Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹" prefWidth="120"/>
            <TableColumn fx:id="balanceColumn" text="Ø§Ù„Ø±ØµÙŠØ¯" prefWidth="90" style="-fx-alignment: CENTER;" visible="false"/>
            <TableColumn fx:id="balanceIqdColumn" text="Ø±ØµÙŠØ¯ Ø¯ÙŠÙ†Ø§Ø±" prefWidth="100" style="-fx-alignment: CENTER;"/>
            <TableColumn fx:id="balanceUsdColumn" text="Ø±ØµÙŠØ¯ Ø¯ÙˆÙ„Ø§Ø±" prefWidth="100" style="-fx-alignment: CENTER;"/>
            <TableColumn fx:id="actionsColumn" text="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" prefWidth="140"/>
        </columns>
        <placeholder>
            <Label text="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø§Ù„ÙŠØ§Ù‹" style="-fx-font-size: 14px; -fx-text-fill: #9ca3af;"/>
        </placeholder>
    </TableView>
    
    <!-- Footer Stats -->
    <HBox spacing="20" alignment="CENTER"
          style="-fx-background-color: #10233d; -fx-padding: 16; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 8, 0, 0, 2);">
        <VBox alignment="CENTER" spacing="4">
            <Label fx:id="totalDebtLabel" text="0.00 Ø¯.Ø¹" 
                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #ef4444;"/>
            <Label text="Ø¯ÙŠÙˆÙ† Ø¯ÙŠÙ†Ø§Ø±" style="-fx-font-size: 11px; -fx-text-fill: #90a4ae;"/>
        </VBox>
        <VBox alignment="CENTER" spacing="4">
            <Label fx:id="totalDebtUsdLabel" text="0.00 $" 
                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #ef4444;"/>
            <Label text="Ø¯ÙŠÙˆÙ† Ø¯ÙˆÙ„Ø§Ø±" style="-fx-font-size: 11px; -fx-text-fill: #90a4ae;"/>
        </VBox>
        <VBox alignment="CENTER" spacing="4" style="-fx-padding: 0 20;">
            <Label fx:id="totalCreditLabel" text="0.00 Ø¯.Ø¹" 
                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #10b981;"/>
            <Label text="Ø£Ø±ØµØ¯Ø© Ø¯ÙŠÙ†Ø§Ø±" style="-fx-font-size: 11px; -fx-text-fill: #90a4ae;"/>
        </VBox>
        <HBox HBox.hgrow="ALWAYS"/>
        <Button text="ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel" onAction="#handleExport"
                style="-fx-background-color: #f59e0b; -fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold; -fx-padding: 8 16; -fx-background-radius: 6;"/>
        <Button text="Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" onAction="#handlePrint"
                style="-fx-background-color: #6366f1; -fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: bold; -fx-padding: 8 16; -fx-background-radius: 6;"/>
    </HBox>
</VBox>
